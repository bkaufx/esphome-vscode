{
  "api": {
    "schemas": {
      "CONFIG_SCHEMA": {
        "type": "schema",
        "schema": {
          "config_vars": {
            "id": {
              "key": "GeneratedID",
              "docs": "**[ID](https://esphome.io/guides/configuration-types.html#config-id)**: Manually specify the ID used for code generation.\n\n\n\n*See also: [Native API Component](https://esphome.io/components/api.html#configuration-variables)*"
            },
            "port": {
              "key": "Optional",
              "default": "6053",
              "type": "integer",
              "docs": "**int**: The port to run the API Server on. Defaults to `6053`.\n\n\n\n*See also: [Native API Component](https://esphome.io/components/api.html#configuration-variables)*"
            },
            "password": {
              "key": "Optional",
              "default": "",
              "type": "string",
              "docs": "**string**: The password to protect the API Server with. Defaults to no password.\n\n\n\n*See also: [Native API Component](https://esphome.io/components/api.html#configuration-variables)*"
            },
            "reboot_timeout": {
              "key": "Optional",
              "default": "15min",
              "type": "schema",
              "schema": {
                "extends": [
                  "core.time_period_dict"
                ]
              },
              "docs": "**[Time](https://esphome.io/guides/configuration-types.html#config-time)**: The amount of time to wait before rebooting when no client connects to the API. This is needed because sometimes the low level ESP functions report that the ESP is connected to the network, when in fact it is not - only a full reboot fixes it. Can be disabled by setting this to `0s`. Defaults to `15min`.\n\n\n\n*See also: [Native API Component](https://esphome.io/components/api.html#configuration-variables)*"
            },
            "services": {
              "key": "Optional",
              "type": "trigger",
              "schema": {
                "config_vars": {
                  "service": {
                    "key": "Required",
                    "type": "string"
                  },
                  "variables": {
                    "key": "String",
                    "default": "{}",
                    "key_dump": "<function validate_id_name at 0x0000010A392E2C10>",
                    "type": "schema",
                    "schema": {
                      "config_vars": {
                        "<function validate_id_name at 0x0000010A392E2C10>": {
                          "type": "enum",
                          "values": [
                            "bool",
                            "int",
                            "float",
                            "string",
                            "bool[]",
                            "int[]",
                            "float[]",
                            "string[]"
                          ]
                        }
                      }
                    }
                  },
                  "then": {
                    "type": "trigger"
                  }
                }
              },
              "has_required_var": true,
              "docs": "**list**: A list of user-defined services. See [User-defined Services](https://esphome.io/components/api.html#api-services).\n\n\n\n*See also: [Native API Component](https://esphome.io/components/api.html#configuration-variables)*"
            },
            "encryption": {
              "key": "Optional",
              "type": "schema",
              "schema": {
                "config_vars": {
                  "key": {
                    "key": "Required",
                    "docs": "**string**: The pre-shared key for the encryption. This is a 32-byte base64 encoded string. Below you can copy a key randomly generated in your browser:<input type=\"text\" id=\"api-key\" onclick=\"this.focus();this.select()\" style=\"width: 240px;\" readonly=\"readonly\"> <script>   // https://stackoverflow.com/a/62362724   function bytesArrToBase64(arr) {     const abc = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"; // base64 alphabet     const bin = n => n.toString(2).padStart(8,0); // convert num to 8-bit binary string     const l = arr.length     let result = '';      for(let i=0; i<=(l-1)/3; i++) {       let c1 = i*3+1>=l; // case when \"=\" is on end       let c2 = i*3+2>=l; // case when \"=\" is on end       let chunk = bin(arr[3*i]) + bin(c1? 0:arr[3*i+1]) + bin(c2? 0:arr[3*i+2]);       let r = chunk.match(/.{1,6}/g).map((x,j)=> j==3&&c2 ? '=' :(j==2&&c1 ? '=':abc[+('0b'+x)]));       result += r.join('');     }      return result;   }    let array = new Uint8Array(32);   window.crypto.getRandomValues(array);   document.getElementById(\"api-key\").value = bytesArrToBase64(array); </script>\n\n\n\n*See also: [Native API Component](https://esphome.io/components/api.html#configuration-variables)*"
                  }
                }
              },
              "docs": "Enable transport encryption of the API layer.\n  * **key** (**Required**, string): The pre-shared key for the encryption. This is a 32-byte base64 encoded string. Below you can copy a key randomly generated in your browser:<input type=\"text\" id=\"api-key\" onclick=\"this.focus();this.select()\" style=\"width: 240px;\" readonly=\"readonly\"> <script>   // https://stackoverflow.com/a/62362724   function bytesArrToBase64(arr) {     const abc = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"; // base64 alphabet     const bin = n => n.toString(2).padStart(8,0); // convert num to 8-bit binary string     const l = arr.length     let result = '';      for(let i=0; i<=(l-1)/3; i++) {       let c1 = i*3+1>=l; // case when \"=\" is on end       let c2 = i*3+2>=l; // case when \"=\" is on end       let chunk = bin(arr[3*i]) + bin(c1? 0:arr[3*i+1]) + bin(c2? 0:arr[3*i+2]);       let r = chunk.match(/.{1,6}/g).map((x,j)=> j==3&&c2 ? '=' :(j==2&&c1 ? '=':abc[+('0b'+x)]));       result += r.join('');     }      return result;   }    let array = new Uint8Array(32);   window.crypto.getRandomValues(array);   document.getElementById(\"api-key\").value = bytesArrToBase64(array); </script>\n  \n  \n\n\n\n*See also: [Native API Component](https://esphome.io/components/api.html#configuration-variables)*"
            }
          },
          "extends": [
            "core.COMPONENT_SCHEMA"
          ]
        }
      },
      "KEY_VALUE_SCHEMA": {
        "key": "String",
        "key_dump": "<function string at 0x0000010A392E25E0>",
        "type": "schema",
        "schema": {
          "config_vars": {
            "<function string at 0x0000010A392E25E0>": {
              "templatable": true,
              "type": "string"
            }
          }
        }
      },
      "HOMEASSISTANT_SERVICE_ACTION_SCHEMA": {
        "type": "schema",
        "schema": {
          "config_vars": {
            "id": {
              "key": "GeneratedID"
            },
            "service": {
              "key": "Required",
              "templatable": true,
              "type": "string",
              "docs": "**string**: The Home Assistant [Service](https://www.home-assistant.io/docs/scripts/service-calls/) to call.\n\n\n\n*See also: [Native API Component](https://esphome.io/components/api.html#homeassistant-service-action)*"
            },
            "data": {
              "key": "String",
              "default": "{}",
              "type": "schema",
              "key_dump": "<function string at 0x0000010A392E25E0>",
              "schema": {
                "config_vars": {
                  "<function string at 0x0000010A392E25E0>": {
                    "templatable": true,
                    "type": "string"
                  }
                }
              },
              "docs": "**mapping**: Optional *static* data to pass along with the service call.\n\n\n\n*See also: [Native API Component](https://esphome.io/components/api.html#homeassistant-service-action)*"
            },
            "data_template": {
              "key": "String",
              "default": "{}",
              "type": "schema",
              "key_dump": "<function string at 0x0000010A392E25E0>",
              "schema": {
                "config_vars": {
                  "<function string at 0x0000010A392E25E0>": {
                    "templatable": true,
                    "type": "string"
                  }
                }
              },
              "docs": "**mapping**: Optional template data to pass along with the service call. This is evaluated on the Home Assistant side with Home Assistant\u2019s templating engine.\n\n\n\n*See also: [Native API Component](https://esphome.io/components/api.html#homeassistant-service-action)*"
            },
            "variables": {
              "key": "String",
              "default": "{}",
              "key_dump": "<function string at 0x0000010A392E25E0>",
              "type": "schema",
              "schema": {
                "config_vars": {
                  "<function string at 0x0000010A392E25E0>": {}
                }
              },
              "docs": "**mapping**: Optional variables that can be used in the `data_template`. Values are [lambdas](https://esphome.io/guides/automations.html#config-lambda) and will be evaluated before sending the request.\n\n\n\n*See also: [Native API Component](https://esphome.io/components/api.html#homeassistant-service-action)*"
            }
          }
        }
      },
      "HOMEASSISTANT_EVENT_ACTION_SCHEMA": {
        "type": "schema",
        "schema": {
          "config_vars": {
            "id": {
              "key": "GeneratedID"
            },
            "event": {
              "key": "Required",
              "docs": "**string**: The event to create - must begin with `esphome.`\n\n\n\n*See also: [Native API Component](https://esphome.io/components/api.html#homeassistant-event-action)*"
            },
            "data": {
              "key": "String",
              "default": "{}",
              "type": "schema",
              "key_dump": "<function string at 0x0000010A392E25E0>",
              "schema": {
                "config_vars": {
                  "<function string at 0x0000010A392E25E0>": {
                    "templatable": true,
                    "type": "string"
                  }
                }
              },
              "docs": "**mapping**: Optional *static* data to pass along with the event.\n\n\n\n*See also: [Native API Component](https://esphome.io/components/api.html#homeassistant-event-action)*"
            },
            "data_template": {
              "key": "String",
              "default": "{}",
              "type": "schema",
              "key_dump": "<function string at 0x0000010A392E25E0>",
              "schema": {
                "config_vars": {
                  "<function string at 0x0000010A392E25E0>": {
                    "templatable": true,
                    "type": "string"
                  }
                }
              },
              "docs": "**mapping**: Optional template data to pass along with the event. This is evaluated on the Home Assistant side with Home Assistant\u2019s templating engine.\n\n\n\n*See also: [Native API Component](https://esphome.io/components/api.html#homeassistant-event-action)*"
            },
            "variables": {
              "key": "String",
              "default": "{}",
              "type": "schema",
              "key_dump": "<function string at 0x0000010A392E25E0>",
              "schema": {
                "config_vars": {
                  "<function string at 0x0000010A392E25E0>": {
                    "templatable": true,
                    "type": "string"
                  }
                }
              },
              "docs": "**mapping**: Optional variables that can be used in the `data_template`. Values are [lambdas](https://esphome.io/guides/automations.html#config-lambda) and will be evaluated before sending the request.\n\n\n\n*See also: [Native API Component](https://esphome.io/components/api.html#homeassistant-event-action)*"
            }
          }
        }
      },
      "HOMEASSISTANT_TAG_SCANNED_ACTION_SCHEMA": {
        "is_list": true,
        "type": "schema",
        "schema": {
          "config_vars": {
            "id": {
              "key": "GeneratedID"
            },
            "tag": {
              "key": "Required",
              "templatable": true,
              "type": "string",
              "docs": "**[templatable](https://esphome.io/guides/automations.html#config-templatable), string**: The id of the scanned tag\n\n\n\n*See also: [Native API Component](https://esphome.io/components/api.html#homeassistant-tag-scanned-action)*"
            }
          }
        }
      }
    },
    "condition": {
      "connected": {
        "docs": "This [Condition](https://esphome.io/guides/automations.html#config-condition) checks if at least one client is connected to the ESPHome native API. Please note client not only includes Home Assistant, but also ESPHome\u2019s OTA log output if logs are shown remotely.\n\n*See also: [Native API Component](https://esphome.io/components/api.html#api-connected-condition)*"
      }
    }
  }
}